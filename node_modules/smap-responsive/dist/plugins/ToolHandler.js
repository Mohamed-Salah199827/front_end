!function(t){function n(e){if(o[e])return o[e].exports;var i=o[e]={exports:{},id:e,loaded:!1};return t[e].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}var o={};return n.m=t,n.c=o,n.p="",n(0)}([function(t,n){"use strict";L.Control.ToolHandler=L.Control.extend({options:{position:"bottomright",showPopoverTitle:!1,breakpoint:991},_lang:{sv:{popoverTitle:"Verktyg"},en:{popoverTitle:"Tools"}},_setLang:function(t){t=t||smap.config.langCode,this._lang&&(this.lang=this._lang?this._lang[t]:null)},initialize:function(t){L.setOptions(this,t),this._setLang(t.langCode)},update:function(){var t=$(".thandler-container .leaflet-control button");t.length?($(".thandler-btn").removeClass("thandler-deactivated"),$(".thandler-container .leaflet-control button").each(function(){$(this).tooltip({placement:"bottom",container:"#maindiv"})})):$(".thandler-btn").addClass("thandler-deactivated")},onAdd:function(t){return this._container=L.DomUtil.create("div","leaflet-control-toolhandler"),L.DomEvent.disableClickPropagation(this._container),this.$container=$(this._container),this.$container.css("display","none"),utils.getBrowser().ie8||(this._makeToolHandler(),smap.event.on("smap.core.pluginsadded",this.update)),this._onWinResize=$.proxy(this.onWinResize,this),$(window).on("resize",this._onWinResize),this.checkCollapsePoint(),this._container},onWinResize:function(t){this.checkCollapsePoint()},checkCollapsePoint:function(){var t=$(window).width();t<=this.options.breakpoint?(console.log("Collapse"),$("#mapdiv").addClass("thandler-collapsed")):(console.log("Un-collapse"),$("#mapdiv").removeClass("thandler-collapsed"))},activate:function(){},_makeToolHandler:function(){function t(t){var n=$(".thandler-popover").length&&parseInt($(".thandler-popover").css("opacity")||0)>0,o=$(".thandler-popover .popover-content");i.data("bs.popover")&&n&&o.children().length&&(utils.getBrowser().ie9&&a(),i.popover("hide")),$(".thandler-container .leaflet-control button").each(function(){$(this).trigger("blur")}),$(".tooltip:visible").hide()}function n(){var t=$(".thandler-container").children(":has('button')");t.length&&i.popover("show")}var o=this,e=$(".leaflet-top.leaflet-right");this.$thCont=e,e.addClass("thandler-container");var i=$('<div class="thandler-btn popover-dismiss"><button type="button" class="btn btn-default thbtn"><span class="fa fa-th"></span></button></div>');$("#mapdiv").append(i),this._map.on("mousedown dragstart",t),$(window).on("orientationchange",t);var a=function(){$(window).off("resize",t);var n=$(".thandler-popover .popover-content");n.find("button").each(function(){$(this).blur()}),smap.event.trigger("smap.toolhandler.hide"),setTimeout(function(){n.children().each(function(){$(".thandler-container").prepend(this)})},150)};i.on("click",function(){var e=$(this);if(e.data("bs.popover")){var i=$(".thandler-popover").length&&parseInt($(".thandler-popover").css("opacity")||0)>0;if(i)return utils.getBrowser().ie9&&a(),e.popover("hide"),!1}else e.popover({content:null,placement:"bottom",title:o.lang.popoverTitle,trigger:"manual"}),e.on("shown.bs.popover",function(){var n=$(this).next(),e=n.find(".popover-content");o.options.showPopoverTitle||n.find("h3").remove(),n.addClass("thandler-popover"),n.find(".arrow").addClass("thandler-arrow");var i=$(".thandler-container").children(".leaflet-control:has('button')").detach();e.empty(),i.each(function(){e.prepend(this)}),$(window).on("resize",t)}),e.on("hidden.bs.popover",a);return n(),!1}),i.on("tap",function(){return!1}),i.on("dblclick",function(){return!1})},onRemove:function(t){$(window).off("resize",this._onWinResize)}}),L.control.toolhandler=function(t){return new L.Control.ToolHandler(t)}}]);